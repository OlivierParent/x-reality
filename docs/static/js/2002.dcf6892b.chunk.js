"use strict";(self.webpackChunkx_reality=self.webpackChunkx_reality||[]).push([[2002],{6167:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(259),o=n(7066),a=n(5819),i=n(4704),s=n(7313),l=n(4110),u=n(1724),c=n(7862),d=n(4662),m=n(6417);const p=e=>{let{children:t}=e;const n=(0,d.p)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.Xz,{camera:void 0,flat:n.flat,frameloop:n.frameloop,linear:n.linear,orthographic:!1,shadows:n.shadows,children:(0,m.jsxs)(s.Suspense,{children:[(0,m.jsx)(l.z,{}),(0,m.jsx)(u.Z,{}),(0,m.jsx)(c.u,{}),(0,m.jsx)(r.z,{enableDamping:!0,enablePan:!0,enableZoom:!0}),t]})}),(0,m.jsx)(i.Zf,{collapsed:!1,fill:!1,flat:!1,hidden:!1,oneLineLabels:!0,titleBar:!0}),(0,m.jsx)(o.a,{})]})}},821:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(6795),o=n(5825);const a=n.p+"static/media/BakedNormals.03580610c404bbe4bf6b.glb";var i=n(6417);const s=e=>{const{nodes:t,materials:n}=(0,r.L)(a,!0);return(0,i.jsx)("group",{name:"Mesh with Baked Normals Texture",...e,children:(0,i.jsx)("mesh",{geometry:t.Plane.geometry,material:n.Material,rotation:[90,0,0].map((e=>o.MathUtils.degToRad(e)))})})},l=n.p+"static/media/TexturedCube.2b78eebcca182be3ab54.glb",u=e=>{const{nodes:t,materials:n}=(0,r.L)(l,!0);return(0,i.jsxs)("group",{name:"Textured Mesh Default",...e,children:[(0,i.jsxs)("group",{position:[-1.5,0,0],children:[(0,i.jsx)("mesh",{geometry:t.Cube_1.geometry,material:n.MaterialTexture}),(0,i.jsx)("mesh",{geometry:t.Cube_2.geometry,material:n.Blue})]}),t.Cube.children.map(((e,t)=>(0,i.jsx)("mesh",{geometry:e.geometry,material:e.material,position:[1.5,0,0]},t)))]})};var c=n(7313),d=n(3002),m=n(1120);var p=n(2952);const f=n.p+"static/media/Video_by_Ricky_Esquivel.1a08d0ed11a51bed97c3.mp4",g=e=>{const[t,n]=(0,c.useState)(!1),r=function(e,t){const{unsuspend:n,start:r,crossOrigin:a,muted:i,loop:s,...l}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...t},u=(0,d.A)((e=>e.gl)),p=(0,m.Rq)((()=>new Promise(((t,r)=>{const c=Object.assign(document.createElement("video"),{src:"string"===typeof e&&e||void 0,srcObject:e instanceof MediaStream&&e||void 0,crossOrigin:a,loop:s,muted:i,...l}),d=new o.VideoTexture(c);"colorSpace"in d?d.colorSpace=u.outputColorSpace:d.encoding=u.outputEncoding,c.addEventListener(n,(()=>t(d)))}))),[e]);return(0,c.useEffect)((()=>{if(r)return p.image.play(),()=>p.image.pause()}),[p,r]),p}(f,{unsuspend:"canplay",crossOrigin:"Anonymous",muted:!1,loop:!0,volume:.5,start:t});return(0,i.jsx)("group",{name:"Mesh with Video Texture",...e,children:(0,i.jsx)(p.JO,{args:[5.333333333333333,3],onClick:()=>n(!t),children:(0,i.jsx)("meshBasicMaterial",{color:16777215,map:r,toneMapped:!1})})})};var v=n(4704),h=n(5397),y=n(9817),x=function(e){return e.BAKED_NORMALS="Baked Normals",e.DEFAULT="\u2014Default\u2014",e.VIDEO="Video",e}(x||{});const w={[x.DEFAULT]:(0,i.jsx)(u,{}),[x.BAKED_NORMALS]:(0,i.jsx)(s,{}),[x.VIDEO]:(0,i.jsx)(g,{})},b=e=>{const{texturedMesh:t}=function(e,t){const{texturedMesh:n}=(0,v.M4)(h.O.SCHEMA.COMPONENTS,{texturedMesh:{label:"Type",options:e,value:t}},y.F.folder(h.O.ORDER.COMPONENTS));return{texturedMesh:n}}(w,w[x.DEFAULT]);return(0,i.jsx)("group",{name:"Texture",...e,children:t})};var E=n(6167);const M=e=>(0,i.jsx)(E.A,{children:(0,i.jsx)(b,{...e})})},3081:(e,t,n)=>{n.d(t,{P:()=>d});var r=n(7462),o=n(7313),a=n(5825),i=n(3002),s=n(4296),l=n(2362);class u extends a.ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new a.Vector3(0,0,0)},lightColor:{value:new a.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new a.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        #include <common>\n        #include <logdepthbuf_pars_vertex>\n\n        void main() {\n          // compute intensity\n          vNormal = normalize(normalMatrix * normal);\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\n\n          gl_Position = projectionMatrix * viewPosition;\n\n          #include <logdepthbuf_vertex>\n        }\n      ",fragmentShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n\n        uniform vec3 lightColor;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float opacity;\n\n        #include <packing>\n        #include <logdepthbuf_pars_fragment>\n\n        float readDepth(sampler2D depthSampler, vec2 uv) {\n          float fragCoordZ = texture(depthSampler, uv).r;\n\n          // https://github.com/mrdoob/three.js/issues/23072\n          #ifdef USE_LOGDEPTHBUF\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\n          #else\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          #endif\n\n          return viewZ;\n        }\n\n        void main() {\n          #include <logdepthbuf_fragment>\n\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\n          float intensity = vIntensity * angleIntensity;\n\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 uv = gl_FragCoord.xy / resolution;\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\n          }\n\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n          #include <".concat(l.i>=154?"colorspace_fragment":"encodings_fragment",">\n        }\n      ")})}}function c(e){let{opacity:t=1,radiusTop:n,radiusBottom:r,depthBuffer:s,color:l="white",distance:c=5,angle:d=.15,attenuation:m=5,anglePower:p=5}=e;const f=o.useRef(null),g=(0,i.A)((e=>e.size)),v=(0,i.A)((e=>e.camera)),h=(0,i.A)((e=>e.viewport.dpr)),[y]=o.useState((()=>new u)),[x]=o.useState((()=>new a.Vector3));n=void 0===n?.1:n,r=void 0===r?7*d:r,(0,i.C)((()=>{y.uniforms.spotPosition.value.copy(f.current.getWorldPosition(x)),f.current.lookAt(f.current.parent.target.getWorldPosition(x))}));const w=o.useMemo((()=>{const e=new a.CylinderGeometry(n,r,c,128,64,!0);return e.applyMatrix4((new a.Matrix4).makeTranslation(0,-c/2,0)),e.applyMatrix4((new a.Matrix4).makeRotationX(-Math.PI/2)),e}),[c,n,r]);return o.createElement(o.Fragment,null,o.createElement("mesh",{ref:f,geometry:w,raycast:()=>null},o.createElement("primitive",{object:y,attach:"material","uniforms-opacity-value":t,"uniforms-lightColor-value":l,"uniforms-attenuation-value":m,"uniforms-anglePower-value":p,"uniforms-depth-value":s,"uniforms-cameraNear-value":v.near,"uniforms-cameraFar-value":v.far,"uniforms-resolution-value":s?[g.width*h,g.height*h]:[0,0]})))}const d=o.forwardRef(((e,t)=>{let{opacity:n=1,radiusTop:a,radiusBottom:i,depthBuffer:l,color:u="white",distance:d=5,angle:m=.15,attenuation:p=5,anglePower:f=5,volumetric:g=!0,debug:v=!1,children:h,...y}=e;const x=o.useRef(null);return o.createElement("group",null,v&&x.current&&o.createElement("spotLightHelper",{args:[x.current]}),o.createElement("spotLight",(0,r.Z)({ref:(0,s.Z)([t,x]),angle:m,color:u,distance:d,castShadow:!0},y),g&&o.createElement(c,{debug:v,opacity:n,radiusTop:a,radiusBottom:i,depthBuffer:l,color:u,distance:d,angle:m,attenuation:p,anglePower:f})),h&&o.cloneElement(h,{spotlightRef:x,debug:v}))}))},2952:(e,t,n)=>{n.d(t,{Ab:()=>u,Cd:()=>s,FC:()=>v,FM:()=>g,JO:()=>d,KC:()=>m,N1:()=>y,Qq:()=>l,aL:()=>c,fg:()=>p,vO:()=>f,xu:()=>i,yI:()=>h});var r=n(7462),o=n(7313);function a(e,t){const n=e+"Geometry";return o.forwardRef(((e,a)=>{let{args:i,children:s,...l}=e;const u=o.useRef(null);return o.useImperativeHandle(a,(()=>u.current)),o.useLayoutEffect((()=>{null==t||t(u.current)})),o.createElement("mesh",(0,r.Z)({ref:u},l),o.createElement(n,{attach:"geometry",args:i}),s)}))}const i=a("box"),s=a("circle"),l=a("cone"),u=a("cylinder"),c=a("sphere"),d=a("plane"),m=a("torus"),p=a("torusKnot"),f=a("tetrahedron"),g=a("ring"),v=a("icosahedron"),h=a("octahedron"),y=a("dodecahedron")},5964:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(7313),o=n(3002);function a(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];const s=r.useRef(),l=(0,o.A)((e=>e.scene));return r.useLayoutEffect((()=>{let n;if(e&&null!=e&&e.current&&t&&(s.current=n=new t(e.current,...a)),n)return n.traverse((e=>e.raycast=()=>null)),l.add(n),()=>{s.current=void 0,l.remove(n),null==n.dispose||n.dispose()}}),[l,t,e,...a]),(0,o.C)((()=>{var e;null==(e=s.current)||null==e.update||e.update()})),s}},2362:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(5825);const o=(()=>parseInt(r.REVISION.replace(/\D+/g,"")))()}}]);