"use strict";(self.webpackChunkx_reality=self.webpackChunkx_reality||[]).push([[4280],{6167:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(259),o=n(7066),a=n(5819),i=n(4704),s=n(7313),l=n(4110),c=n(1724),u=n(7862),d=n(4662),f=n(6417);const p=e=>{let{children:t}=e;const n=(0,d.p)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Xz,{camera:void 0,flat:n.flat,frameloop:n.frameloop,linear:n.linear,orthographic:!1,shadows:n.shadows,children:(0,f.jsxs)(s.Suspense,{children:[(0,f.jsx)(l.z,{}),(0,f.jsx)(c.Z,{}),(0,f.jsx)(u.u,{}),(0,f.jsx)(r.z,{enableDamping:!0,enablePan:!0,enableZoom:!0}),t]})}),(0,f.jsx)(i.Zf,{collapsed:!1,fill:!1,flat:!1,hidden:!1,oneLineLabels:!0,titleBar:!0}),(0,f.jsx)(o.a,{})]})}},1451:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(6893),o=n(4839),a=n(2952),i=n(126),s=n(7313),l=n(5825),c=n(6417);const u=document.createElement("video"),d=new l.VideoTexture(u),f=e=>{let{play:t=!1,src:n}=e;return(0,s.useEffect)((()=>{u.setAttribute("loop","true"),u.setAttribute("mute","false")}),[]),(0,s.useEffect)((()=>{t?u.play():u.pause()}),[t]),(0,s.useEffect)((()=>{u.src=n,u.load()}),[n]),(0,c.jsx)("meshBasicMaterial",{color:16777215,map:d,toneMapped:!1})},p=n.p+"static/media/Video_by_Dana_Nettles.e8f12e570b18a8c2e03e.mp4",m=2,v=.2,h={SIZE:.1,RADIUS:.1},g=[{src:p,title:"Video by Dana Nettles",url:"https://www.pexels.com/video/pouring-a-hot-tea-on-a-crystal-cup-3568312/"}],y=m*(16/9),w=m,x=e=>{const[t,n]=(0,s.useState)(!1),[l,u]=(0,s.useState)(!1),d=(0,s.useCallback)((e=>{e.stopPropagation(),u((e=>!e))}),[]),p=(0,s.useCallback)((e=>{e.stopPropagation(),n(!1)}),[]),x=(0,s.useCallback)((e=>{e.stopPropagation(),n(!0)}),[]);return(0,r.j)(t),(0,c.jsxs)("group",{name:"Television",...e,children:[(0,c.jsxs)("group",{onClick:d,onPointerOut:p,onPointerOver:x,position:[0,(m+h.RADIUS)/2+3*h.RADIUS,0],children:[(0,c.jsx)(o.Z,{args:[y+2*h.SIZE,w+2*h.SIZE,v],castShadow:!0,position:[0,0,-v/2],radius:h.RADIUS,receiveShadow:!0,children:(0,c.jsx)("meshStandardMaterial",{color:3355443})}),(0,c.jsx)(a.JO,{args:[y,w],position:[0,0,.01],children:(0,c.jsx)(f,{play:l,src:g[0].src})})]}),(0,c.jsx)(i.x,{color:6710886,fontSize:.1,position:[0,-.1,0],children:"".concat(g[0].title," \u2014 ").concat(g[0].url)})]})};var b=n(6167);const S=e=>(0,c.jsx)(b.A,{children:(0,c.jsx)(x,{...e})})},4839:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7462),o=n(7313),a=n(5825),i=n(676);const s=1e-5;const l=o.forwardRef((function(e,t){let{args:[n=1,l=1,c=1]=[],radius:u=.05,steps:d=1,smoothness:f=4,bevelSegments:p=4,creaseAngle:m=.4,children:v,...h}=e;const g=o.useMemo((()=>function(e,t,n){const r=new a.Shape,o=n-s;return r.absarc(s,s,s,-Math.PI/2,-Math.PI,!0),r.absarc(s,t-2*o,s,Math.PI,Math.PI/2,!0),r.absarc(e-2*o,t-2*o,s,Math.PI/2,0,!0),r.absarc(e-2*o,s,s,0,-Math.PI/2,!0),r}(n,l,u)),[n,l,u]),y=o.useMemo((()=>({depth:c-2*u,bevelEnabled:!0,bevelSegments:2*p,steps:d,bevelSize:u-s,bevelThickness:u,curveSegments:f})),[c,u,f]),w=o.useRef(null);return o.useLayoutEffect((()=>{w.current&&(w.current.center(),(0,i.LZ)(w.current,m))}),[g,y]),o.createElement("mesh",(0,r.Z)({ref:t},h),o.createElement("extrudeGeometry",{ref:w,args:[g,y]}),v)}))},3081:(e,t,n)=>{n.d(t,{P:()=>d});var r=n(7462),o=n(7313),a=n(5825),i=n(3002),s=n(4296),l=n(2362);class c extends a.ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new a.Vector3(0,0,0)},lightColor:{value:new a.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new a.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        #include <common>\n        #include <logdepthbuf_pars_vertex>\n\n        void main() {\n          // compute intensity\n          vNormal = normalize(normalMatrix * normal);\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\n\n          gl_Position = projectionMatrix * viewPosition;\n\n          #include <logdepthbuf_vertex>\n        }\n      ",fragmentShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n\n        uniform vec3 lightColor;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float opacity;\n\n        #include <packing>\n        #include <logdepthbuf_pars_fragment>\n\n        float readDepth(sampler2D depthSampler, vec2 uv) {\n          float fragCoordZ = texture(depthSampler, uv).r;\n\n          // https://github.com/mrdoob/three.js/issues/23072\n          #ifdef USE_LOGDEPTHBUF\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\n          #else\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          #endif\n\n          return viewZ;\n        }\n\n        void main() {\n          #include <logdepthbuf_fragment>\n\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\n          float intensity = vIntensity * angleIntensity;\n\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 uv = gl_FragCoord.xy / resolution;\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\n          }\n\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n          #include <".concat(l.i>=154?"colorspace_fragment":"encodings_fragment",">\n        }\n      ")})}}function u(e){let{opacity:t=1,radiusTop:n,radiusBottom:r,depthBuffer:s,color:l="white",distance:u=5,angle:d=.15,attenuation:f=5,anglePower:p=5}=e;const m=o.useRef(null),v=(0,i.A)((e=>e.size)),h=(0,i.A)((e=>e.camera)),g=(0,i.A)((e=>e.viewport.dpr)),[y]=o.useState((()=>new c)),[w]=o.useState((()=>new a.Vector3));n=void 0===n?.1:n,r=void 0===r?7*d:r,(0,i.C)((()=>{y.uniforms.spotPosition.value.copy(m.current.getWorldPosition(w)),m.current.lookAt(m.current.parent.target.getWorldPosition(w))}));const x=o.useMemo((()=>{const e=new a.CylinderGeometry(n,r,u,128,64,!0);return e.applyMatrix4((new a.Matrix4).makeTranslation(0,-u/2,0)),e.applyMatrix4((new a.Matrix4).makeRotationX(-Math.PI/2)),e}),[u,n,r]);return o.createElement(o.Fragment,null,o.createElement("mesh",{ref:m,geometry:x,raycast:()=>null},o.createElement("primitive",{object:y,attach:"material","uniforms-opacity-value":t,"uniforms-lightColor-value":l,"uniforms-attenuation-value":f,"uniforms-anglePower-value":p,"uniforms-depth-value":s,"uniforms-cameraNear-value":h.near,"uniforms-cameraFar-value":h.far,"uniforms-resolution-value":s?[v.width*g,v.height*g]:[0,0]})))}const d=o.forwardRef(((e,t)=>{let{opacity:n=1,radiusTop:a,radiusBottom:i,depthBuffer:l,color:c="white",distance:d=5,angle:f=.15,attenuation:p=5,anglePower:m=5,volumetric:v=!0,debug:h=!1,children:g,...y}=e;const w=o.useRef(null);return o.createElement("group",null,h&&w.current&&o.createElement("spotLightHelper",{args:[w.current]}),o.createElement("spotLight",(0,r.Z)({ref:(0,s.Z)([t,w]),angle:f,color:c,distance:d,castShadow:!0},y),v&&o.createElement(u,{debug:h,opacity:n,radiusTop:a,radiusBottom:i,depthBuffer:l,color:c,distance:d,angle:f,attenuation:p,anglePower:m})),g&&o.cloneElement(g,{spotlightRef:w,debug:h}))}))},126:(e,t,n)=>{n.d(t,{x:()=>s});var r=n(7462),o=n(7313),a=n(3002),i=n(1120);const s=o.forwardRef(((e,t)=>{let{sdfGlyphSize:s=64,anchorX:l="center",anchorY:c="middle",font:u,fontSize:d=1,children:f,characters:p,onSync:m,...v}=e;const{Text:h,preloadFont:g}=(0,i.Rq)((async()=>n.e(109).then(n.bind(n,109))),[]),y=(0,a.A)((e=>{let{invalidate:t}=e;return t})),[w]=o.useState((()=>new h)),[x,b]=o.useMemo((()=>{const e=[];let t="";return o.Children.forEach(f,(n=>{"string"===typeof n||"number"===typeof n?t+=n:e.push(n)})),[e,t]}),[f]);return(0,i.Rq)((()=>new Promise((e=>g({font:u,characters:p},e)))),["troika-text",u,p]),o.useLayoutEffect((()=>{w.sync((()=>{y(),m&&m(w)}))})),o.useEffect((()=>()=>w.dispose()),[w]),o.createElement("primitive",(0,r.Z)({object:w,ref:t,font:u,text:b,anchorX:l,anchorY:c,fontSize:d,sdfGlyphSize:s},v),x)}))},2952:(e,t,n)=>{n.d(t,{Ab:()=>c,Cd:()=>s,FC:()=>h,FM:()=>v,JO:()=>d,KC:()=>f,N1:()=>y,Qq:()=>l,aL:()=>u,fg:()=>p,vO:()=>m,xu:()=>i,yI:()=>g});var r=n(7462),o=n(7313);function a(e,t){const n=e+"Geometry";return o.forwardRef(((e,a)=>{let{args:i,children:s,...l}=e;const c=o.useRef(null);return o.useImperativeHandle(a,(()=>c.current)),o.useLayoutEffect((()=>{null==t||t(c.current)})),o.createElement("mesh",(0,r.Z)({ref:c},l),o.createElement(n,{attach:"geometry",args:i}),s)}))}const i=a("box"),s=a("circle"),l=a("cone"),c=a("cylinder"),u=a("sphere"),d=a("plane"),f=a("torus"),p=a("torusKnot"),m=a("tetrahedron"),v=a("ring"),h=a("icosahedron"),g=a("octahedron"),y=a("dodecahedron")},5964:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(7313),o=n(3002);function a(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];const s=r.useRef(),l=(0,o.A)((e=>e.scene));return r.useLayoutEffect((()=>{let n;if(e&&null!=e&&e.current&&t&&(s.current=n=new t(e.current,...a)),n)return n.traverse((e=>e.raycast=()=>null)),l.add(n),()=>{s.current=void 0,l.remove(n),null==n.dispose||n.dispose()}}),[l,t,e,...a]),(0,o.C)((()=>{var e;null==(e=s.current)||null==e.update||e.update()})),s}},2362:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(5825);const o=(()=>parseInt(r.REVISION.replace(/\D+/g,"")))()},6893:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(7313);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body;r.useEffect((()=>{if(e)return o.style.cursor=t,()=>{o.style.cursor=n}}),[e])}}}]);