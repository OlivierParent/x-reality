"use strict";(self.webpackChunkx_reality=self.webpackChunkx_reality||[]).push([[5433],{6167:(t,e,s)=>{s.d(e,{A:()=>f});var a=s(7179),o=s(7066),r=s(5819),n=s(4704),c=s(7313),i=s(4110),A=s(1724),E=s(7862),l=s(4662),M=s(6417);const f=t=>{let{children:e}=t;const s=(0,l.p)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(r.Xz,{camera:void 0,flat:s.flat,frameloop:s.frameloop,linear:s.linear,orthographic:!1,shadows:s.shadows,children:(0,M.jsxs)(c.Suspense,{children:[(0,M.jsx)(i.z,{}),(0,M.jsx)(A.Z,{}),(0,M.jsx)(E.u,{}),(0,M.jsx)(a.z,{enableDamping:!0,enablePan:!0,enableZoom:!0}),e]})}),(0,M.jsx)(n.Zf,{collapsed:!1,fill:!1,flat:!1,hidden:!1,oneLineLabels:!0,titleBar:!0}),(0,M.jsx)(o.a,{})]})}},1507:(t,e,s)=>{let a;var o;s.d(e,{u:()=>a}),(o=a||(a={})).ARCHITECTS_DAUGHTER={name:"Architects Daughter",url:"https://fonts.gstatic.com/s/architectsdaughter/v18/KtkxAKiDZI_td1Lkx62xHZHDtgO_Y-bvfY0.woff"},o.ARIMO={name:"ARIMO",url:"https://fonts.gstatic.com/s/arimo/v29/P5sfzZCDf9_T_3cV7NCUECyoxNk37cxsBA.woff"},o.ASAP={name:"Asap",url:"https://fonts.gstatic.com/s/asap/v30/KFOOCniXp96a4Tc2DaTeuDAoKsE617JFc49knOIYdjTYkqUsLQ.woff"},o.CODA={name:"Coda",url:"https://fonts.gstatic.com/s/coda/v21/SLXHc1jY5nQ8JUE.woff"},o.FIRA_CODE={name:"Fira Code",url:"https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVQ.woff"},o.FIRA_SANS={name:"Fira Sans",url:"https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5Vfkw.woff"},o.FIRA_SANS_CONDENSED={name:"Fira Sans Condensed",url:"https://fonts.gstatic.com/s/firasanscondensed/v10/wEOhEADFm8hSaQTFG18FErVhsC9x-tarYfI.woff"},o.MONSIEUR_LA_DOULAISE={name:"Monsieur La Doulaise",url:"https://fonts.gstatic.com/s/monsieurladoulaise/v18/_Xmz-GY4rjmCbQfc-aPRaa4pqV340p7EZl5d.woff"},o.NOTO_SANS={name:"Noto Sans",url:"https://fonts.gstatic.com/s/notosans/v35/o-0mIpQlx3QUlC5A4PNB6Ryti20_6n1iPHjcz6L1SoM-jCpoiyD9A99e.woff"},o.NOTO_SERIF={name:"Noto Serif",url:"https://fonts.gstatic.com/s/notoserif/v23/ga6iaw1J5X9T9RW6j9bNVls-hfgvz8JcMofYTa32J4wsL2JAlAhZqFCjww.woff"},o.PLAY={name:"Play",url:"https://fonts.gstatic.com/s/play/v17/6aez4K2oVqwIjtE.woff"},o.POPPINS={name:"Poppins",url:"https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrFJM.woff"},o.PRESS_START_2P={name:"Press Start 2P",url:"https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK0nR.woff"},o.REDACTED_SCRIPT={name:"Redacted Script",url:"https://fonts.gstatic.com/s/redactedscript/v6/ypvBbXGRglhokR7dcC3d1-R6zmxSsg.woff"},o.ROBOTO={name:"Roboto",url:"https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff"},o.ROBOTO_SLAB={name:"Roboto Slab",url:"https://fonts.gstatic.com/s/robotoslab/v24/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISWaw.woff"},o.SILKSCREEN={name:"Silkscreen",url:"https://fonts.gstatic.com/s/silkscreen/v4/m8JXjfVPf62XiF7kO-i9ULc.woff"},o.SOURCE_CODE_PRO={name:"Source Code Pro",url:"https://fonts.gstatic.com/s/sourcecodepro/v23/HI_diYsKILxRpg3hIP6sJ7fM7PqPMcMnZFqUwX28DMyQhM0.woff"},o.SOURCE_SANS_PRO={name:"Source Sans Pro",url:"https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3aPA.woff"},o.SOURCE_SERIF_PRO={name:"Source Serif Pro",url:"https://fonts.gstatic.com/s/sourceserifpro/v17/neIQzD-0qpwxpaWvjeD0X88SAOeaiXA.woff"},o.TANGERINE={name:"Tangerine",url:"https://fonts.gstatic.com/s/tangerine/v17/IurY6Y5j_oScZZow4VOBDQ.woff"}},5198:(t,e,s)=>{let a;s.d(e,{r:()=>a}),function(t){let e=function(t){return t.BLACK_IRON="2D2D2A_74716E_8F8C8C_92958E",t.BUFFED_SILVER="54584E_B1BAC5_818B91_A7ACA3",t.GRAPHITE="2D2D2F_C6C2C5_727176_94949B",t.GREEN="54C104_BBFA0F_97EF04_7AE104",t.GREEN_CRYSTAL="2E763A_78A0B7_B3D1CF_14F209",t.SILVERY="4C4C4C_D2D2D2_8F8F8F_ACACAC",t.TITANIUM="C7C7D7_4C4E5A_818393_6C6C74",t.WORN_GOLD="6E5137_E8CA90_271912_B99C74",t}({});t.ID=e;let s=function(t){return t[t.XS=64]="XS",t[t.SM=128]="SM",t[t.MD=256]="MD",t[t.LG=512]="LG",t[t.XL=1024]="XL",t}({});t.SIZE=s}(a||(a={}))},5433:(t,e,s)=>{s.r(e),s.d(e,{default:()=>O});var a=s(1707),o=s(9080),r=s(124),n=s(2952),c=s(7313),i=s(5825),A=s(1507),E=s(5198),l=s(6417);const M=-1,f=t=>{const{config:e,percentage:s,size:f}=t,I=(0,c.useRef)(null),[u]=(0,r.K)(E.r.ID.BUFFED_SILVER,E.r.SIZE.XL),[d]=(0,r.K)(E.r.ID.GRAPHITE,E.r.SIZE.XL),[p]=(0,r.K)(E.r.ID.TITANIUM,E.r.SIZE.XL),S=.8*f,h=.1*f,m=.06*f,R=.001*f,U=.01*f,g=.005*f,L=i.MathUtils.degToRad(e.ANGLE.OFFSET+e.ANGLE.RANGE/2),O=e.VALUE.MAXIMUM/e.VALUE.MARK_VALUE*e.MARK.SUBDIVISION,D=i.MathUtils.degToRad(e.ANGLE.RANGE)/e.VALUE.MAXIMUM,C=e.VALUE.MAXIMUM/O,N=Array(O+1).fill(null);return(0,o.C)((()=>{const t=I.current.rotation.z,a=i.MathUtils.degToRad(s/100*e.ANGLE.RANGE*M),o=i.MathUtils.lerp(t,a,.1);I.current.rotation.z=o})),(0,l.jsxs)("group",{name:"Gauge",...t,children:[(0,l.jsxs)("group",{name:"Face",children:[(0,l.jsx)(n.Cd,{args:[f,60],children:(0,l.jsx)("meshMatcapMaterial",{matcap:d})}),(0,l.jsx)("group",{position:[0,.6*-f,R],children:(0,l.jsx)(a.x,{fontSize:.15*f,font:A.u.CODA.url,children:e.LEGEND})})]}),(0,l.jsxs)("group",{rotation:[0,0,L],children:[(0,l.jsxs)("group",{name:"Rings",position:[0,0,R],children:[(0,l.jsx)(n.FM,{name:"Default",args:[S,S+U,2*e.VALUE.MAXIMUM,1,e.VALUE.MINIMUM*M*D,(e.VALUE.MAXIMUM-e.VALUE.MINIMUM)*M*D],children:(0,l.jsx)("meshBasicMaterial",{color:"white",side:i.BackSide})}),(0,l.jsx)(n.FM,{name:"Safe",args:[S-2*U,S-1*U,2*e.VALUE.MAXIMUM,1,e.VALUE.SAFE*M*D,(e.VALUE.CAUTION-e.VALUE.SAFE)*M*D],children:(0,l.jsx)("meshBasicMaterial",{color:"green",side:i.BackSide})}),(0,l.jsx)(n.FM,{name:"Caution",args:[S-4*U,S-1*U,2*e.VALUE.MAXIMUM,1,e.VALUE.CAUTION*M*D,(e.VALUE.DANGER-e.VALUE.CAUTION)*M*D],children:(0,l.jsx)("meshBasicMaterial",{color:"orange",side:i.BackSide})}),(0,l.jsx)(n.FM,{name:"Danger",args:[S-7*U,S-1*U,2*e.VALUE.MAXIMUM,1,e.VALUE.DANGER*M*D,(e.VALUE.MAXIMUM-e.VALUE.DANGER)*M*D],children:(0,l.jsx)("meshBasicMaterial",{color:"red",side:i.BackSide})})]}),(0,l.jsx)("group",{name:"Marks",position:[0,0,2*R],children:N.map(((t,s)=>{const a=s%e.MARK.SUBDIVISION===0?U:g,o=s%e.MARK.SUBDIVISION===0?h:m;return(0,l.jsx)("group",{name:"Mark",rotation:[0,0,D*s*M],children:(0,l.jsx)(n.JO,{args:[o,a],position:[S-1*U-o/2,0,0],children:(0,l.jsx)("meshBasicMaterial",{color:16777215})})},"mark-".concat(s))}))}),(0,l.jsx)("group",{name:"Labels",position:[0,0,2*R],children:N.map(((t,s)=>(0,l.jsx)("group",{name:"Label",rotation:[0,0,s*D*M],children:s%e.MARK.SUBDIVISION===0&&(0,l.jsxs)(a.x,{font:A.u.CODA.url,fontSize:.1*f,position:[.88*f,0,R],rotation:[0,0,i.MathUtils.degToRad(90)*M],children:[Math.round(s*C),(0,l.jsx)("meshBasicMaterial",{color:16777215})]})},"label-".concat(s))))}),(0,l.jsxs)("group",{name:"Needle",position:[0,0,.05*f],rotation:new i.Euler(0,0,-i.MathUtils.degToRad(90)),children:[(0,l.jsx)(n.Ab,{args:[.1*f,.05*f,.1*f,36],castShadow:!0,rotation:new i.Euler(-i.MathUtils.degToRad(90),0,0),children:(0,l.jsx)("meshMatcapMaterial",{matcap:u})}),(0,l.jsx)("group",{ref:I,children:(0,l.jsx)(n.Qq,{args:[.03*f,f,4],position:[0,.3*f,0],children:(0,l.jsx)("meshStandardMaterial",{color:"orange",metalness:.1,roughness:.6})})})]}),(0,l.jsx)("group",{name:"Rim",children:(0,l.jsx)(n.KC,{args:[.975*f,.025*f,3,120],children:(0,l.jsx)("meshMatcapMaterial",{matcap:p})})})]})]})},I=10,u={ANGLE:{OFFSET:90,RANGE:270},LEGEND:"rpm \xd7 100",MARK:{CAUTION:"orange",DANGER:"red",SAFE:"white",SUBDIVISION:10},VALUE:{CAUTION:45,DANGER:55,MARK_VALUE:I,MAXIMUM:70,MINIMUM:0,SAFE:8}},d=10,p={ANGLE:{OFFSET:90,RANGE:270},LEGEND:"kph",MARK:{CAUTION:"orange",DANGER:"red",SAFE:"white",SUBDIVISION:10},VALUE:{CAUTION:50,DANGER:120,MARK_VALUE:d,MAXIMUM:180,MINIMUM:0,SAFE:30}};function S(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.VALUE.MAXIMUM;return Math.round(t/e*100)}const h={ACCELERATION_RATIO:.3,GEAR_RATIO:[0,.15,.3,.45,.6,.75,.9],POWER_LOSS_RATIO:.85,RPM:{INITIAL:S(35,u.VALUE.MAXIMUM),SHIFTED:{DOWN:S(35,u.VALUE.MAXIMUM),UP:S(45,u.VALUE.MAXIMUM)},SHIFT:{DOWN:S(25,u.VALUE.MAXIMUM),UP:S(55,u.VALUE.MAXIMUM)}},SPEED:{IDLE:S(18,p.VALUE.MAXIMUM),TOP:S(p.VALUE.DANGER,p.VALUE.MAXIMUM)}},m=1,R=-1,U={ACCELERATION:2,DECELERATION:1},g=t=>{const[e,s]=(0,c.useState)(m),[r,n]=(0,c.useState)(1),[i,A]=(0,c.useState)(h.RPM.INITIAL),[E,M]=(0,c.useState)(0);return(0,o.C)((()=>{A((t=>(t<h.RPM.SHIFT.DOWN?(t=h.RPM.SHIFTED.DOWN,n((t=>--t<1?1:t))):h.RPM.SHIFT.UP<t?(t=h.RPM.SHIFTED.UP,n((t=>6<++t?6:t))):t+=e*h.ACCELERATION_RATIO*(e===R?U.DECELERATION:U.ACCELERATION)*h.POWER_LOSS_RATIO**r,t))),M((()=>{const t=h.GEAR_RATIO[r]*i;return h.SPEED.TOP<t?s(R):t<h.SPEED.IDLE&&s(m),t}))})),(0,l.jsxs)("group",{name:"Gauge",...t,children:[(0,l.jsx)(f,{config:u,percentage:i,position:[-1.1,0,0],size:1}),(0,l.jsx)(a.x,{fontSize:.25,position:[0,.5,0],children:r}),(0,l.jsx)(f,{config:p,percentage:E,position:[1.1,0,0],size:1})]})};var L=s(6167);const O=t=>(0,l.jsx)(L.A,{children:(0,l.jsx)(g,{...t})})},124:(t,e,s)=>{s.d(e,{K:()=>i});var a=s(7313),o=s(8640),r=s(1120);const n="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json",c="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d";function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,s=arguments.length>2?arguments[2]:void 0;const i=(0,r.Rq)((()=>fetch(n).then((t=>t.json()))),["matcapList"]),A=i[0],E=a.useMemo((()=>Object.keys(i).length),[]),l=a.useMemo((()=>"string"===typeof t?t:"number"===typeof t?i[t]:null),[t]),M="".concat(l||A).concat(function(t){switch(t){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}(e),".png"),f="".concat(c,"/").concat(e,"/").concat(M);return[(0,o.m)(f,s),f,E]}},8640:(t,e,s)=>{s.d(e,{m:()=>c});var a=s(5825),o=s(9080),r=s(7313);const n=t=>t===Object(t)&&!Array.isArray(t)&&"function"!==typeof t;function c(t,e){const s=(0,o.A)((t=>t.gl)),c=(0,o.F)(a.TextureLoader,n(t)?Object.values(t):t);if((0,r.useLayoutEffect)((()=>{null==e||e(c)}),[e]),(0,r.useEffect)((()=>{if("initTexture"in s){(Array.isArray(c)?c:[c]).forEach(s.initTexture)}}),[s,c]),n(t)){const e={};let s=0;for(const a in t)e[a]=c[s++];return e}return c}c.preload=t=>o.F.preload(a.TextureLoader,t),c.clear=t=>o.F.clear(a.TextureLoader,t)}}]);