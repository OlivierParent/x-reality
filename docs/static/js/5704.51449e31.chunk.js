"use strict";(self.webpackChunkx_reality=self.webpackChunkx_reality||[]).push([[5704],{6167:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(7179),a=n(7066),o=n(5819),i=n(4704),s=n(7313),l=n(4110),u=n(1724),c=n(7862),p=n(4662),d=n(6417);const m=e=>{let{children:t}=e;const n=(0,p.p)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Xz,{camera:void 0,flat:n.flat,frameloop:n.frameloop,linear:n.linear,orthographic:!1,shadows:n.shadows,children:(0,d.jsxs)(s.Suspense,{children:[(0,d.jsx)(l.z,{}),(0,d.jsx)(u.Z,{}),(0,d.jsx)(c.u,{}),(0,d.jsx)(r.z,{enableDamping:!0,enablePan:!0,enableZoom:!0}),t]})}),(0,d.jsx)(i.Zf,{collapsed:!1,fill:!1,flat:!1,hidden:!1,oneLineLabels:!0,titleBar:!0}),(0,d.jsx)(a.a,{})]})}},3225:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(6893),a=n(9080),o=n(7313),i=n(5825);function*s(){let e=0;const t=["#f00","#ff0","#0f0","#0ff","#00f","#f0f"];for(;;)yield t[e++%t.length]}var l=n(6417);var u=function(e){return e[e.HIGH=1]="HIGH",e[e.LOW=.75]="LOW",e}(u||{}),c=function(e){return e[e.LARGE=1.5]="LARGE",e[e.SMALL=1]="SMALL",e}(c||{});const p=new i.Vector3,d=s(),m=d.next().value,f=new i.Vector3,v=e=>{const t=(0,o.useRef)(null),[n,s]=(0,o.useState)(m),[v,g]=(0,o.useState)(!1),[h,w]=(0,o.useState)(p),x=(0,o.useCallback)((e=>{e.stopPropagation();const t=d.next().value,n=function(){const e=[5,4,0].map((e=>(2*Math.random()-1)*e));return(new i.Vector3).fromArray(e)}();s(t),w(n)}),[]),S=(0,o.useCallback)((e=>{e.stopPropagation(),g(!1)}),[]),y=(0,o.useCallback)((e=>{e.stopPropagation(),g(!0)}),[]);return(0,r.j)(v),(0,a.C)((e=>{let{clock:n}=e;t.current.position.lerp(h,.1);const r=n.getElapsedTime();t.current.rotation.set(r,r,r);const a=v?c.LARGE:c.SMALL;t.current.scale.lerp(f.setScalar(a),.1)})),(0,l.jsx)("group",{name:"Animated Cube Default",...e,children:(0,l.jsxs)("mesh",{onClick:x,onPointerOut:S,onPointerOver:y,ref:t,scale:c.SMALL,children:[(0,l.jsx)("boxGeometry",{args:[1,1,1]}),(0,l.jsx)("meshStandardMaterial",{color:n,opacity:v?u.HIGH:u.LOW,transparent:!0,wireframe:!1})]})})};var g=n(9977),h=n(8358);var w=function(e){return e[e.HIGH=1]="HIGH",e[e.LOW=.75]="LOW",e}(w||{}),x=function(e){return e[e.LARGE=1.5]="LARGE",e[e.SMALL=1]="SMALL",e}(x||{});const S=new i.Vector3,y=s(),L=y.next().value,P=new i.Vector3,A=e=>{const{nodes:t}=(0,g.L)(h,!0),n=(0,o.useRef)(null),[s,u]=(0,o.useState)(L),[c,p]=(0,o.useState)(!1),[d,m]=(0,o.useState)(S),f=(0,o.useCallback)((e=>{e.stopPropagation();const t=y.next().value,n=function(){const e=[5,4,0].map((e=>(2*Math.random()-1)*e));return(new i.Vector3).fromArray(e)}();u(t),m(n)}),[]),v=(0,o.useCallback)((e=>{e.stopPropagation(),p(!1)}),[]),A=(0,o.useCallback)((e=>{e.stopPropagation(),p(!0)}),[]);return(0,r.j)(c),(0,a.C)((e=>{let{clock:t}=e;n.current.position.lerp(d,.1);const r=t.getElapsedTime();n.current.rotation.set(r,r,r);const a=c?x.LARGE:x.SMALL;n.current.scale.lerp(P.setScalar(a),.1)})),(0,l.jsx)("group",{name:"Animated Cube Default",...e,children:(0,l.jsx)("mesh",{geometry:t.Suzanne.geometry,onClick:f,onPointerOut:v,onPointerOver:A,ref:n,scale:x.SMALL,children:(0,l.jsx)("meshStandardMaterial",{color:s,opacity:c?w.HIGH:w.LOW,transparent:!0,wireframe:!1})})})};var E=n(812);var C=function(e){return e[e.HIGH=1]="HIGH",e[e.LOW=.75]="LOW",e}(C||{});const b=new i.Vector3,M=1.5,j=1,O=s(),G=O.next().value,R=e=>{const t=(0,o.useRef)(null),n=(0,o.useRef)(null),[s,u]=(0,o.useState)(G),[c,p]=(0,o.useState)(!1),[d,m]=(0,o.useState)(C.LOW),[f,v]=(0,o.useState)(b),[g,h]=(0,o.useState)(j),w=(0,o.useCallback)((e=>{e.stopPropagation();const t=O.next().value,n=function(){const e=[5,4,0].map((e=>(2*Math.random()-1)*e));return(new i.Vector3).fromArray(e)}();u(t),v(n)}),[]),x=(0,o.useCallback)((e=>{e.stopPropagation(),p(!1)}),[]),S=(0,o.useCallback)((e=>{e.stopPropagation(),p(!0)}),[]);return(0,r.j)(c),(0,o.useEffect)((()=>{const e=c?C.HIGH:C.LOW;m(e);h(c?M:j)}),[c]),(0,a.C)((e=>{let{clock:n}=e;const r=n.getElapsedTime();t.current.rotation.set(r,r,r)})),(0,l.jsx)("group",{name:"Animated Cube with Framer Motion 3D",...e,children:(0,l.jsxs)(E.E.mesh,{animate:{...f,scale:g},onClick:w,onPointerOut:x,onPointerOver:S,ref:t,transition:{duration:.25,scale:{duration:.125}},children:[(0,l.jsx)("boxGeometry",{args:[1,1,1]}),(0,l.jsx)(E.E.meshStandardMaterial,{animate:{color:s,opacity:d},ref:n,transition:{opacity:{delay:.125,duration:.125}},transparent:!0,wireframe:!1})]})})};var k=n(3589);var _=function(e){return e[e.HIGH=1]="HIGH",e[e.LOW=.75]="LOW",e}(_||{});const H=new i.Vector3,I={LARGE:(new i.Vector3).setScalar(1.5),SMALL:(new i.Vector3).setScalar(1)},D=s(),V=D.next().value,F={color:V},N=k.p8.timeline(),T=e=>{const t=(0,o.useRef)(null),n=(0,o.useRef)(null),[s,u]=(0,o.useState)(V),[c,p]=(0,o.useState)(!1),[d,m]=(0,o.useState)(H),f=(0,o.useCallback)((e=>{e.stopPropagation();const t=D.next().value,n=function(){const e=[5,4,0].map((e=>(2*Math.random()-1)*e));return(new i.Vector3).fromArray(e)}();u(t),m(n)}),[]),v=(0,o.useCallback)((e=>{e.stopPropagation(),p(!1)}),[]),g=(0,o.useCallback)((e=>{e.stopPropagation(),p(!0)}),[]);return(0,r.j)(c),(0,o.useEffect)((()=>{k.p8.to(F,{color:s,onUpdate:()=>{n.current.color.set(F.color)}})}),[s]),(0,o.useEffect)((()=>{const e=c?_.HIGH:_.LOW;N.to(n.current,{opacity:e,duration:.125});const r=c?I.LARGE:I.SMALL;N.to(t.current.scale,{...r,duration:.125})}),[c]),(0,o.useEffect)((()=>{k.p8.to(t.current.position,{...d,duration:.25})}),[d]),(0,a.C)((e=>{let{clock:n}=e;const r=n.getElapsedTime();t.current.rotation.set(r,r,r)})),(0,l.jsx)("group",{name:"Animated Cube with GreenSock GSAP",...e,children:(0,l.jsxs)("mesh",{onClick:f,onPointerOut:v,onPointerOver:g,ref:t,children:[(0,l.jsx)("boxGeometry",{args:[1,1,1]}),(0,l.jsx)("meshStandardMaterial",{ref:n,transparent:!0,wireframe:!1})]})})};var W=n(4704),Z=n(5397),z=n(9817),B=function(e){return e.DEFAULT="\u2014Default\u2014",e.DEFAULT_REPLACED="Default with object replaced",e.FRAMER_MOTION_3D="Framer Motion 3D",e.GREENSOCK_GSAP="GreenSock GSAP",e}(B||{});const U={[B.DEFAULT]:(0,l.jsx)(v,{}),[B.DEFAULT_REPLACED]:(0,l.jsx)(A,{}),[B.FRAMER_MOTION_3D]:(0,l.jsx)(R,{}),[B.GREENSOCK_GSAP]:(0,l.jsx)(T,{})},K=e=>{const{cube:t}=function(e,t){const{cube:n}=(0,W.M4)(Z.O.SCHEMA.COMPONENTS,{cube:{label:"Animated Cube",options:e,value:t}},z.F.folder(Z.O.ORDER.COMPONENTS));return{cube:n}}(U,U[B.FRAMER_MOTION_3D]);return(0,l.jsx)("group",{name:"Animated Cube",...e,children:t})};var X=n(6167);const q=e=>(0,l.jsx)(X.A,{children:(0,l.jsx)(K,{...e})})},3081:(e,t,n)=>{n.d(t,{P:()=>p});var r=n(7462),a=n(7313),o=n(5825),i=n(9080),s=n(4296),l=n(2362);class u extends o.ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new o.Vector3(0,0,0)},lightColor:{value:new o.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new o.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        #include <common>\n        #include <logdepthbuf_pars_vertex>\n\n        void main() {\n          // compute intensity\n          vNormal = normalize(normalMatrix * normal);\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\n\n          gl_Position = projectionMatrix * viewPosition;\n\n          #include <logdepthbuf_vertex>\n        }\n      ",fragmentShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n\n        uniform vec3 lightColor;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float opacity;\n\n        #include <packing>\n        #include <logdepthbuf_pars_fragment>\n\n        float readDepth(sampler2D depthSampler, vec2 uv) {\n          float fragCoordZ = texture(depthSampler, uv).r;\n\n          // https://github.com/mrdoob/three.js/issues/23072\n          #ifdef USE_LOGDEPTHBUF\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\n          #else\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          #endif\n\n          return viewZ;\n        }\n\n        void main() {\n          #include <logdepthbuf_fragment>\n\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\n          float intensity = vIntensity * angleIntensity;\n\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 uv = gl_FragCoord.xy / resolution;\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\n          }\n\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n          #include <".concat(l.i>=154?"colorspace_fragment":"encodings_fragment",">\n        }\n      ")})}}function c(e){let{opacity:t=1,radiusTop:n,radiusBottom:r,depthBuffer:s,color:l="white",distance:c=5,angle:p=.15,attenuation:d=5,anglePower:m=5}=e;const f=a.useRef(null),v=(0,i.A)((e=>e.size)),g=(0,i.A)((e=>e.camera)),h=(0,i.A)((e=>e.viewport.dpr)),[w]=a.useState((()=>new u)),[x]=a.useState((()=>new o.Vector3));n=void 0===n?.1:n,r=void 0===r?7*p:r,(0,i.C)((()=>{w.uniforms.spotPosition.value.copy(f.current.getWorldPosition(x)),f.current.lookAt(f.current.parent.target.getWorldPosition(x))}));const S=a.useMemo((()=>{const e=new o.CylinderGeometry(n,r,c,128,64,!0);return e.applyMatrix4((new o.Matrix4).makeTranslation(0,-c/2,0)),e.applyMatrix4((new o.Matrix4).makeRotationX(-Math.PI/2)),e}),[c,n,r]);return a.createElement(a.Fragment,null,a.createElement("mesh",{ref:f,geometry:S,raycast:()=>null},a.createElement("primitive",{object:w,attach:"material","uniforms-opacity-value":t,"uniforms-lightColor-value":l,"uniforms-attenuation-value":d,"uniforms-anglePower-value":m,"uniforms-depth-value":s,"uniforms-cameraNear-value":g.near,"uniforms-cameraFar-value":g.far,"uniforms-resolution-value":s?[v.width*h,v.height*h]:[0,0]})))}const p=a.forwardRef(((e,t)=>{let{opacity:n=1,radiusTop:o,radiusBottom:i,depthBuffer:l,color:u="white",distance:p=5,angle:d=.15,attenuation:m=5,anglePower:f=5,volumetric:v=!0,debug:g=!1,children:h,...w}=e;const x=a.useRef(null);return a.createElement("group",null,g&&x.current&&a.createElement("spotLightHelper",{args:[x.current]}),a.createElement("spotLight",(0,r.Z)({ref:(0,s.Z)([t,x]),angle:d,color:u,distance:p,castShadow:!0},w),v&&a.createElement(c,{debug:g,opacity:n,radiusTop:o,radiusBottom:i,depthBuffer:l,color:u,distance:p,angle:d,attenuation:m,anglePower:f})),h&&a.cloneElement(h,{spotlightRef:x,debug:g}))}))},5964:(e,t,n)=>{n.d(t,{H:()=>o});var r=n(7313),a=n(9080);function o(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];const s=r.useRef(),l=(0,a.A)((e=>e.scene));return r.useLayoutEffect((()=>{let n;if(e&&null!=e&&e.current&&t&&(s.current=n=new t(e.current,...o)),n)return n.traverse((e=>e.raycast=()=>null)),l.add(n),()=>{s.current=void 0,l.remove(n),null==n.dispose||n.dispose()}}),[l,t,e,...o]),(0,a.C)((()=>{var e;null==(e=s.current)||null==e.update||e.update()})),s}},2362:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(5825);const a=(()=>parseInt(r.REVISION.replace(/\D+/g,"")))()},8358:(e,t,n)=>{e.exports=n.p+"static/media/suzanne_subdivision_smooth_shading_compressed.d13fc80263eda278d80e.glb"}}]);