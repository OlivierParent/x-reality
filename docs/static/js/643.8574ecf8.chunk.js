"use strict";(self.webpackChunkx_reality=self.webpackChunkx_reality||[]).push([[643],{3702:(e,t,n)=>{n.d(t,{_:()=>c});var r=n(9977),o=n(7313),a=n(1352),i=n(8358),s=n(6417);const c=(0,o.forwardRef)(((e,t)=>{const{nodes:n}=(0,r.L)(i,!0);return(0,s.jsx)("group",{...e,children:(0,s.jsx)("mesh",{geometry:n.Suzanne.geometry,ref:t,children:(0,s.jsx)(a.F,{})})})}))},3280:(e,t,n)=>{n.d(t,{p:()=>c});var r=n(4704),o=n(5397),a=n(9817);let i;var s;function c(){const{gravity:e,paused:t,showDebug:n}=(0,r.M4)(o.O.SCHEMA.PHYSICS,{gravity:i.gravity(),paused:i.paused(),showDebug:i.showDebug(!0)},a.F.folder(o.O.ORDER.PHYSICS));return{gravity:e,paused:t,showDebug:n}}(s=i||(i={})).gravity=function(){return{label:"Gravity",hint:"Default = 9.81",value:{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-9.80665,z:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}},s.paused=function(){return{label:"Paused",hint:"Pause physics simulation.",value:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},s.showDebug=function(){return{label:"Debug",hint:"Show debug geometry.",value:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}},1533:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(7179),o=n(7066),a=n(5819),i=n(3082),s=n(4704),c=n(7313),l=n(1724),u=n(7862),d=n(4662),h=n(3280),m=n(6417);const f=e=>{let{children:t}=e;const n=(0,d.p)(),f=(0,h.p)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.Xz,{camera:void 0,flat:n.flat,frameloop:n.frameloop,linear:n.linear,orthographic:!1,shadows:n.shadows,children:(0,m.jsxs)(c.Suspense,{children:[(0,m.jsx)(l.Z,{}),(0,m.jsx)(u.u,{}),(0,m.jsx)(r.z,{enableDamping:!0,enablePan:!0,enableZoom:!0}),(0,m.jsx)(i.wI,{colliders:void 0,debug:f.showDebug,gravity:[f.gravity.x,f.gravity.y,f.gravity.z],paused:f.paused,timeStep:"vary",updatePriority:void 0,children:t})]})}),(0,m.jsx)(s.Zf,{collapsed:!1,fill:!1,flat:!1,hidden:!1,oneLineLabels:!0,titleBar:!0}),(0,m.jsx)(o.a,{})]})}},643:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(6790),o=n(3082),a=n(3702),i=n(5867),s=n(6417);const c=.5,l=["ball","cuboid","hull","trimesh"],u=e=>(0,s.jsx)("group",{name:"Rapier Auto-colliders",...e,children:l.map(((e,t)=>(0,s.jsxs)(o.ib,{colliders:e,position:[2*(t-(l.length-1)/2),0,0],type:"fixed",children:[(0,s.jsx)(a._,{scale:[c,c,c]}),(0,s.jsx)(r.V,{className:i.Z.label,position:[0,-1,0],children:e})]},"auto-collider-".concat(t))))});var d=n(1533);const h=e=>(0,s.jsx)(d.A,{children:(0,s.jsx)(u,{...e})})},6790:(e,t,n)=>{n.d(t,{V:()=>v});var r=n(7462),o=n(7313),a=n(1739),i=n(5825),s=n(9080);const c=new i.Vector3,l=new i.Vector3,u=new i.Vector3;function d(e,t,n){const r=c.setFromMatrixPosition(e.matrixWorld);r.project(t);const o=n.width/2,a=n.height/2;return[r.x*o+o,-r.y*a+a]}const h=e=>Math.abs(e)<1e-10?0:e;function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let o=0;16!==o;o++)r+=h(t[o]*e.elements[o])+(15!==o?",":")");return n+r}const f=(p=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>m(e,p));var p;const x=(e,t)=>{return m(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};const v=o.forwardRef(((e,t)=>{let{children:n,eps:m=.001,style:p,className:v,prepend:g,center:y,fullscreen:b,portal:M,distanceFactor:w,sprite:P=!1,transform:S=!1,occlude:j,onOcclude:E,castShadow:W,receiveShadow:z,material:C,geometry:R,zIndexRange:F=[16777271,0],calculatePosition:D=d,as:_="div",wrapperClass:A,pointerEvents:I="auto",...k}=e;const{gl:O,camera:T,scene:H,size:L,raycaster:N,events:V,viewport:Z}=(0,s.A)(),[B]=o.useState((()=>document.createElement(_))),G=o.useRef(),Y=o.useRef(null),K=o.useRef(0),X=o.useRef([0,0]),q=o.useRef(null),J=o.useRef(null),Q=(null==M?void 0:M.current)||V.connected||O.domElement.parentNode,U=o.useRef(null),$=o.useRef(!1),ee=o.useMemo((()=>j&&"blending"!==j||Array.isArray(j)&&j.length&&function(e){return e&&"object"===typeof e&&"current"in e}(j[0])),[j]);o.useLayoutEffect((()=>{const e=O.domElement;j&&"blending"===j?(e.style.zIndex="".concat(Math.floor(F[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[j]),o.useLayoutEffect((()=>{if(Y.current){const e=G.current=a.s(B);if(H.updateMatrixWorld(),S)B.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=D(Y.current,T,L);B.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return Q&&(g?Q.prepend(B):Q.appendChild(B)),()=>{Q&&Q.removeChild(B),e.unmount()}}}),[Q,S]),o.useLayoutEffect((()=>{A&&(B.className=A)}),[A]);const te=o.useMemo((()=>S?{position:"absolute",top:0,left:0,width:L.width,height:L.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:y?"translate3d(-50%,-50%,0)":"none",...b&&{top:-L.height/2,left:-L.width/2,width:L.width,height:L.height},...p}),[p,y,b,L,S]),ne=o.useMemo((()=>({position:"absolute",pointerEvents:I})),[I]);o.useLayoutEffect((()=>{var e,r;($.current=!1,S)?null==(e=G.current)||e.render(o.createElement("div",{ref:q,style:te},o.createElement("div",{ref:J,style:ne},o.createElement("div",{ref:t,className:v,style:p,children:n})))):null==(r=G.current)||r.render(o.createElement("div",{ref:t,style:te,className:v,children:n}))}));const re=o.useRef(!0);(0,s.C)((e=>{if(Y.current){T.updateMatrixWorld(),Y.current.updateWorldMatrix(!0,!1);const e=S?X.current:D(Y.current,T,L);if(S||Math.abs(K.current-T.zoom)>m||Math.abs(X.current[0]-e[0])>m||Math.abs(X.current[1]-e[1])>m){const t=function(e,t){const n=c.setFromMatrixPosition(e.matrixWorld),r=l.setFromMatrixPosition(t.matrixWorld),o=n.sub(r),a=t.getWorldDirection(u);return o.angleTo(a)>Math.PI/2}(Y.current,T);let n=!1;ee&&(Array.isArray(j)?n=j.map((e=>e.current)):"blending"!==j&&(n=[H]));const r=re.current;if(n){const e=function(e,t,n,r){const o=c.setFromMatrixPosition(e.matrixWorld),a=o.clone();a.project(t),n.setFromCamera(a,t);const i=n.intersectObjects(r,!0);if(i.length){const e=i[0].distance;return o.distanceTo(n.ray.origin)<e}return!0}(Y.current,T,N,n);re.current=e&&!t}else re.current=!t;r!==re.current&&(E?E(!re.current):B.style.display=re.current?"block":"none");const o=Math.floor(F[0]/2),a=j?ee?[F[0],o]:[o-1,0]:F;if(B.style.zIndex="".concat(function(e,t,n){if(t instanceof i.PerspectiveCamera||t instanceof i.OrthographicCamera){const r=c.setFromMatrixPosition(e.matrixWorld),o=l.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(o),i=(n[1]-n[0])/(t.far-t.near),s=n[1]-i*t.far;return Math.round(i*a+s)}}(Y.current,T,a)),S){const[e,t]=[L.width/2,L.height/2],n=T.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:o,left:a,bottom:i,right:s}=T,c=f(T.matrixWorldInverse),l=r?"scale(".concat(n,")translate(").concat(h(-(s+a)/2),"px,").concat(h((o+i)/2),"px)"):"translateZ(".concat(n,"px)");let u=Y.current.matrixWorld;P&&(u=T.matrixWorldInverse.clone().transpose().copyPosition(u).scale(Y.current.scale),u.elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),B.style.width=L.width+"px",B.style.height=L.height+"px",B.style.perspective=r?"":"".concat(n,"px"),q.current&&J.current&&(q.current.style.transform="".concat(l).concat(c,"translate(").concat(e,"px,").concat(t,"px)"),J.current.style.transform=x(u,1/((w||10)/400)))}else{const t=void 0===w?1:function(e,t){if(t instanceof i.OrthographicCamera)return t.zoom;if(t instanceof i.PerspectiveCamera){const n=c.setFromMatrixPosition(e.matrixWorld),r=l.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(o/2)*a)}return 1}(Y.current,T)*w;B.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}X.current=e,K.current=T.zoom}}if(!ee&&U.current&&!$.current)if(S){if(q.current){const e=q.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=T;if(t||R)k.scale&&(Array.isArray(k.scale)?k.scale instanceof i.Vector3?U.current.scale.copy(k.scale.clone().divideScalar(1)):U.current.scale.set(1/k.scale[0],1/k.scale[1],1/k.scale[2]):U.current.scale.setScalar(1/k.scale));else{const t=(w||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;U.current.scale.set(n,r,1)}$.current=!0}}}else{const t=B.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/Z.factor,n=t.clientWidth*e,r=t.clientHeight*e;U.current.scale.set(n,r,1),$.current=!0}U.current.lookAt(e.camera.position)}}));const oe=o.useMemo((()=>({vertexShader:S?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[S]);return o.createElement("group",(0,r.Z)({},k,{ref:Y}),j&&!ee&&o.createElement("mesh",{castShadow:W,receiveShadow:z,ref:U},R||o.createElement("planeGeometry",null),C||o.createElement("shaderMaterial",{side:i.DoubleSide,vertexShader:oe.vertexShader,fragmentShader:oe.fragmentShader})))}))},5867:(e,t,n)=>{n.d(t,{Z:()=>r});const r={label:"labels_label__7DKCB"}},8358:(e,t,n)=>{e.exports=n.p+"static/media/suzanne_subdivision_smooth_shading_compressed.d13fc80263eda278d80e.glb"}}]);